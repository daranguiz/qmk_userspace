parse_config:
  qmk_remove_keycode_prefix:
    - "KC_"

  # Highlight all keys that activate layers (not just first one)
  mark_alternate_layer_activators: true

  # Specify which layer each named layer corresponds to
  # CRITICAL: Order must match config/keymap.yaml and qmk/users/dario/dario.h enum
  layer_names:
    - BASE_COLEMAK
    - BASE_GALLIUM
    - BASE_NIGHT
    - NUM
    - SYM
    - NAV
    - MEDIA
    - FUN
    - NUM_NIGHT
    - SYM_NIGHT
    - NAV_NIGHT
    - MEDIA_NIGHT

  # Custom layer names (for keys that reference layers)
  layer_legend_map:
    "BASE_COLEMAK": "COLEMAK"
    "BASE_GALLIUM": "GALLIUM"
    "BASE_NIGHT": "NIGHT"
    "NAV": "NAV"
    "MEDIA": "MEDIA"
    "NUM": "NUM"
    "SYM": "SYM"
    "FUN": "FUN"
    "NUM_NIGHT": "NUM"
    "SYM_NIGHT": "SYM"
    "NAV_NIGHT": "NAV"
    "MEDIA_NIGHT": "MEDIA"

  raw_binding_map:
    # Layer-tap keys - show tap key on top, layer below
    "LT(FUN, KC_X)":
      tap: "X"
      hold: "FUN"
    "LT(FUN, KC_SLSH)":
      tap: "/"
      hold: "FUN"
    "LT(NAV, KC_SPC)":
      tap: "Space"
      hold: "NAV"
    "LT(NAV, KC_R)":
      tap: "R"
      hold: "NAV"
    "LT(MEDIA, KC_TAB)":
      tap: "Tab"
      hold: "MEDIA"
    "LT(MEDIA, KC_ENT)":
      tap: "Enter"
      hold: "MEDIA"
    "LT(SYM, KC_DEL)":
      tap: "Del"
      hold: "SYM"
    "LT(SYM, KC_SPC)":
      tap: "Space"
      hold: "SYM"
    "LT(NUM, KC_BSPC)":
      tap: "Bksp"
      hold: "NUM"

    # Night-specific layer-tap keys
    "LT(SYM_NIGHT, KC_BSPC)":
      tap: "Bksp"
      hold: "SYM"
    "LT(NUM_NIGHT, KC_R)":
      tap: "R"
      hold: "NUM"
    "LT(NAV_NIGHT, KC_SPC)":
      tap: "Space"
      hold: "NAV"
    "LT(NAV_NIGHT, KC_ENT)":
      tap: "Enter"
      hold: "NAV"
    "LT(MEDIA_NIGHT, KC_ENT)":
      tap: "Enter"
      hold: "MEDIA"

    # Empty/blank keys
    "KC_NO": ""
    "U_NA": ""
    "U_NU": ""
    "U_NP": ""
    "U_UND": "⎌ Undo"
    "U_RDO": "⟲ Redo"
    "U_CUT": "✂ Cut"
    "U_CPY": "⧉ Copy"
    "U_PST": "⎀ Paste"

    # Mouse keycodes
    "MS_LEFT": "M←"
    "MS_DOWN": "M↓"
    "MS_UP": "M↑"
    "MS_RGHT": "M→"
    "MS_BTN1": "LC"
    "MS_BTN2": "RC"
    "MS_BTN3": "MC"
    "MS_WHLL": "W←"
    "MS_WHLD": "W↓"
    "MS_WHLU": "W↑"
    "MS_WHLR": "W→"

    # RGB controls (QMK)
    "RM_TOGG": "RGB"
    "RM_NEXT": "Mode"
    "RM_HUEU": "Hue+"
    "RM_SATU": "Sat+"
    "RM_VALU": "Val+"

    # Bluetooth controls (ZMK - shown in superset view)
    "KC_BT_SEL_0": "BT 0"
    "KC_BT_SEL_1": "BT 1"
    "KC_BT_SEL_2": "BT 2"
    "KC_BT_SEL_3": "BT 3"
    "KC_BT_SEL_4": "BT 4"
    "KC_BT_CLR": "BT Clr"

    # Default layer switching
    "DF(BASE_COLEMAK)": "CLMK"
    "DF(BASE_GALLIUM)": "GLIUM"
    "DF(BASE_NIGHT)": "NIGHT"

draw_config:
  ortho_layout:
    split: true
    rows: 3
    columns: 5
    thumbs: 3

  # Glyph/icon dimensions (increased from defaults for better visibility)
  glyph_tap_size: 18      # default: 14
  glyph_hold_size: 15     # default: 12
  glyph_shifted_size: 13  # default: 10

  # Custom styling for held keys (layer activators)
  svg_extra_style: |
    /* Remove underline from layer activator text */
    text.layer-activator {
      text-decoration: none !important;
    }

    /* Remove bold from hold text (layer names on modifier keys) */
    text.hold {
      font-weight: normal !important;
    }

    /* Highlight layer-tap thumb keys (positions 21, 31-33, 35) with bright green on all BASE layers */
    .layer-BASE_COLEMAK .keypos-31 rect,
    .layer-BASE_COLEMAK .keypos-32 rect,
    .layer-BASE_COLEMAK .keypos-33 rect,
    .layer-BASE_COLEMAK .keypos-35 rect,
    .layer-BASE_COLEMAK .keypos-29 rect,
    .layer-BASE_GALLIUM .keypos-31 rect,
    .layer-BASE_GALLIUM .keypos-32 rect,
    .layer-BASE_GALLIUM .keypos-33 rect,
    .layer-BASE_GALLIUM .keypos-35 rect,
    .layer-BASE_GALLIUM .keypos-29 rect {
      fill: #4CAF50 !important;
      stroke: none !important;
      opacity: 1 !important;
    }
    .layer-BASE_COLEMAK .keypos-31 text,
    .layer-BASE_COLEMAK .keypos-32 text,
    .layer-BASE_COLEMAK .keypos-33 text,
    .layer-BASE_COLEMAK .keypos-35 text,
    .layer-BASE_COLEMAK .keypos-29 text,
    .layer-BASE_GALLIUM .keypos-31 text,
    .layer-BASE_GALLIUM .keypos-32 text,
    .layer-BASE_GALLIUM .keypos-33 text,
    .layer-BASE_GALLIUM .keypos-35 text,
    .layer-BASE_GALLIUM .keypos-29 text {
      fill: white !important;
    }

    /* Highlight home row mods (positions 10-13, 16-19) with lighter green stroke on all BASE layers */
    .layer-BASE_COLEMAK .keypos-10 rect,
    .layer-BASE_COLEMAK .keypos-11 rect,
    .layer-BASE_COLEMAK .keypos-12 rect,
    .layer-BASE_COLEMAK .keypos-13 rect,
    .layer-BASE_COLEMAK .keypos-16 rect,
    .layer-BASE_COLEMAK .keypos-17 rect,
    .layer-BASE_COLEMAK .keypos-18 rect,
    .layer-BASE_COLEMAK .keypos-19 rect,
    .layer-BASE_GALLIUM .keypos-10 rect,
    .layer-BASE_GALLIUM .keypos-11 rect,
    .layer-BASE_GALLIUM .keypos-12 rect,
    .layer-BASE_GALLIUM .keypos-13 rect,
    .layer-BASE_GALLIUM .keypos-16 rect,
    .layer-BASE_GALLIUM .keypos-17 rect,
    .layer-BASE_GALLIUM .keypos-18 rect,
    .layer-BASE_GALLIUM .keypos-19 rect {
      stroke: #66BB6A !important;
      stroke-width: 2 !important;
    }

    /* On other layers, highlight the key that keeps you on that layer */
    .layer-NAV .keypos-31 rect,
    .layer-MEDIA .keypos-32 rect,
    .layer-NUM .keypos-35 rect,
    .layer-SYM .keypos-33 rect,
    .layer-FUN .keypos-29 rect {
      fill: #FF9800 !important;
      stroke: none !important;
    }
    .layer-NAV .keypos-31 text,
    .layer-MEDIA .keypos-32 text,
    .layer-NUM .keypos-35 text,
    .layer-SYM .keypos-33 text,
    .layer-FUN .keypos-29 text {
      fill: white !important;
    }

    /* Make sure ghost keys (on other layers) are clearly different */
    .key.ghost rect {
      opacity: 0.3 !important;
    }
